---
import AboutSection from "@components/AboutSection.astro";
import DateItem from "@components/DateItem.astro";
import TertiaryHeadline from "@components/TertiaryHeadline.astro";

const experienceItems = [
  {
    company: "Sullivan",
    positions: [
      {
        position: "Developer",
        startDate: "2025-01",
        endDate: "",
      },
    ],
  },
  {
    company: "Elegant Seagulls",
    positions: [
      {
        position: "Senior Front-End Developer",
        startDate: "2021-10",
        endDate: "2025-01",
      },
      {
        position: "Front-End Developer",
        startDate: "2015-12",
        endDate: "2021-10",
      },
      { position: "Intern", startDate: "2015-09", endDate: "2015-12" },
    ],
  },
];
---

<AboutSection secondaryHeadline="Experience">
  {
    experienceItems?.length && (
      <ol>
        {experienceItems.map((item, index) => (
          <li class={`p-3 ${index !== 0 ? "border-black border-t-1" : ""}`}>
            <TertiaryHeadline text={item.company} />
            {item.positions?.length &&
              (item.positions.length === 1 ? (
                <div class="border-black border-t-1 mt-3 border-l-1 border-l-highlight border-t-highlight">
                  <DateItem
                    type="Experience"
                    title={item.positions[0].position}
                    startDate={item.positions[0].startDate}
                    endDate={item.positions[0].endDate}
                  />
                </div>
              ) : (
                <ol class="border-black border-t-1 mt-3 border-l-1 border-l-highlight border-t-highlight">
                  {item.positions.map((position) => (
                    <li>
                      <DateItem
                        type="Experience"
                        title={position.position}
                        startDate={position.startDate}
                        endDate={position.endDate}
                      />
                    </li>
                  ))}
                </ol>
              ))}
          </li>
        ))}
      </ol>
    )
  }
</AboutSection>
