---
interface Props {
  class?: string;
  [key: string]: any;
}

const url = new URL(Astro.props.href, Astro.url);
const isExternal = url.host !== Astro.url.host;
const isCurrent = url.href === Astro.url.href;

// Extract class and other props separately
const { class: className, ...otherProps } = Astro.props;
---

<a
  class:list={[
    "block py-2 px-4 text-white bg-linear-to-t from-dark-blue to-mid-blue border border-black border-t-highlight border-l-highlight motion-safe:focus:animate-pulse focus:outline-4 focus:outline-light-blue focus:-outline-offset-4 hover:text-light-blue hover:border-t-black hover:border-l-black hover:border-r-highlight hover:border-b-highlight transition-colors",
    className,
  ]}
  aria-current={isCurrent ? "page" : null}
  target={isExternal ? "_blank" : "_self"}
  {...otherProps}
>
  <slot />
</a>
